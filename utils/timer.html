<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>计时器</title>
    <style type="text/css">
        .font_time{
            width: 200px;
            margin: 200px auto;
            font-size: 1.5em;
        }
    </style>
    <link rel="stylesheet" href="../bootstrap-3.3.7/dist/css/bootstrap.css">
</head>
<body>
    <div class="font_time">
        <span class="rel_time">2019-2-4 17:29:01</span>
    </div>
<script type="text/javascript">
    let font_time=document.querySelector('.font_time');
    let rel_time=document.querySelector('.rel_time');
    let rein_time=new Date(rel_time.innerText);
    let inner=setInterval(function () {
        let now_time=new Date();
        let time_dif=now_time-rein_time;
        font_time.innerText=number_to_time(time_dif);
    },1000);

    // 时间戳转换为时间差距格式
    function number_to_time(num) {
        let num_second=num/1000;
        let days=Math.floor(num_second/(60*60*24));
        let hours=Math.floor((num_second%(60*60*24))/(60*60));
        let mimutes=Math.floor((num_second%(60*60))/60);
        let seconds=Math.floor((num_second%60));
        // 显示距系统时间时间差
        if (days>0){
            var result=days+'天前';
        }else if (hours>0){
            var result=hours+'小时前';
        } else if (mimutes>0){
            var result=mimutes+'分钟前';
        } else if (seconds>0) {
            var result=seconds+'秒前';
        } else {
            var result=null;
        }
        return result;
    }
</script>
</body>
</html>